<template>
  <q-input
    v-model="newMessageText"
    rounded
    outlined
    type="text"
    placeholder="Ð’Ð°ÑˆÐµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ..."
    input-style="padding-left: 12px; padding-bottom: 12px;"
  >
  </q-input>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue';

const prompts = [
  // Ð Ð°Ð·Ð²Ð»ÐµÑ‡ÐµÐ½Ð¸Ñ Ð¸ Ð´Ð¾ÑÑƒÐ³ (48, 29% Ð¾Ñ‚ÐºÐ°Ð·Ð¾Ð²)
  { emoji: 'ðŸŽ¬', text: 'ÐŸÐ¾ÑÐ¾Ð²ÐµÑ‚ÑƒÐ¹ Ñ„Ð¸Ð»ÑŒÐ¼ Ð½Ð° Ð²ÐµÑ‡ÐµÑ€' },
  { emoji: 'ðŸŽµ', text: 'ÐŸÐ¾Ð´Ð±ÐµÑ€Ð¸ Ð¼ÑƒÐ·Ñ‹ÐºÑƒ Ð´Ð»Ñ Ð¾Ñ‚Ð´Ñ‹Ñ…Ð°' },
  { emoji: 'ðŸ“š', text: 'Ð§Ñ‚Ð¾ Ð¿Ð¾Ñ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÐ½Ð¾Ð³Ð¾?' },
  { emoji: 'ðŸŽ­', text: 'ÐšÐ°ÐºÐ¸Ðµ ÑÐ¿ÐµÐºÑ‚Ð°ÐºÐ»Ð¸ ÑÐµÐ¹Ñ‡Ð°Ñ Ð¸Ð´ÑƒÑ‚?' },
  { emoji: 'ðŸŽ®', text: 'Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐ¹ Ð½Ð¾Ð²ÑƒÑŽ Ð¸Ð³Ñ€Ñƒ' },

  // Ð‘Ð¸Ð·Ð½ÐµÑ (29, 20% Ð¾Ñ‚ÐºÐ°Ð·Ð¾Ð²)
  { emoji: 'ðŸ’¡', text: 'ÐŸÑ€ÐµÐ´Ð»Ð¾Ð¶Ð¸ Ð¸Ð´ÐµÑŽ Ð´Ð»Ñ ÑÑ‚Ð°Ñ€Ñ‚Ð°Ð¿Ð°' },
  { emoji: 'ðŸ“ˆ', text: 'ÐšÐ°Ðº ÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾Ð´Ð°Ð¶Ð¸?' },
  { emoji: 'ðŸ“', text: 'ÐŸÑ€Ð¸Ð´ÑƒÐ¼Ð°Ð¹ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¸' },
  { emoji: 'ðŸ“', text: 'ÐŸÑ€Ð¸Ð´ÑƒÐ¼Ð°Ð¹ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¸' },
  { emoji: 'ðŸ“Š', text: 'Ð¡Ð´ÐµÐ»Ð°Ð¹ Ð°Ð½Ð°Ð»Ð¸Ð· Ñ€Ñ‹Ð½ÐºÐ°' },

  // Ð¤Ð¸Ð½Ð°Ð½ÑÑ‹ (20, 30% Ð¾Ñ‚ÐºÐ°Ð·Ð¾Ð²)
  { emoji: 'ðŸ’°', text: 'ÐšÐ°Ðº Ð½Ð°Ñ‡Ð°Ñ‚ÑŒ Ð¸Ð½Ð²ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ?' },
  { emoji: 'ðŸ’¸', text: 'ÐšÐ°Ðº ÑÐ¾ÐºÑ€Ð°Ñ‚Ð¸Ñ‚ÑŒ Ñ€Ð°ÑÑ…Ð¾Ð´Ñ‹?' },
  { emoji: 'ðŸ¦', text: 'ÐžÐ±ÑŠÑÑÐ½Ð¸ Ð¸Ð¿Ð¾Ñ‚ÐµÑ‡Ð½Ñ‹Ðµ ÑÑ‚Ð°Ð²ÐºÐ¸' },
  { emoji: 'ðŸ’³', text: 'ÐšÐ°Ðº Ð²Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ ÐºÑ€ÐµÐ´Ð¸Ñ‚Ð½ÑƒÑŽ ÐºÐ°Ñ€Ñ‚Ñƒ?' },
  { emoji: 'ðŸ“‰', text: 'Ð¡Ñ‚Ð¾Ð¸Ñ‚ Ð»Ð¸ Ð¿Ð¾ÐºÑƒÐ¿Ð°Ñ‚ÑŒ Ð°ÐºÑ†Ð¸Ð¸ ÑÐµÐ¹Ñ‡Ð°Ñ?' },

  // ÐÐµÐ´Ð²Ð¸Ð¶Ð¸Ð¼Ð¾ÑÑ‚ÑŒ (18, 28% Ð¾Ñ‚ÐºÐ°Ð·Ð¾Ð²)
  { emoji: 'ðŸ ', text: 'ÐšÐ°Ðº Ð²Ñ‹Ð³Ð¾Ð´Ð½Ð¾ ÐºÑƒÐ¿Ð¸Ñ‚ÑŒ Ð¶Ð¸Ð»ÑŒÐµ?' },
  { emoji: 'ðŸ”‘', text: 'Ð¡Ð¾Ð²ÐµÑ‚Ñ‹ Ð¿Ð¾ Ð°Ñ€ÐµÐ½Ð´Ðµ ÐºÐ²Ð°Ñ€Ñ‚Ð¸Ñ€Ñ‹' },
  { emoji: 'ðŸ¡', text: 'Ð¡Ñ‚Ð¾Ð¸Ñ‚ Ð»Ð¸ Ð¿Ñ€Ð¾Ð´Ð°Ð²Ð°Ñ‚ÑŒ Ð´Ð¾Ð¼ ÑÐµÐ¹Ñ‡Ð°Ñ?' },
  { emoji: 'ðŸ“', text: 'Ð˜Ð´ÐµÐ¸ Ð´Ð»Ñ Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²ÐºÐ¸' },
  { emoji: 'ðŸŒ‡', text: 'Ð“Ð´Ðµ Ð»ÑƒÑ‡ÑˆÐµ Ð¶Ð¸Ñ‚ÑŒ Ð² Ð³Ð¾Ñ€Ð¾Ð´Ðµ?' },

  // Ð Ð°Ð±Ð¾Ñ‚Ð° (17, 17% Ð¾Ñ‚ÐºÐ°Ð·Ð¾Ð²)
  { emoji: 'ðŸ’¼', text: 'ÐšÐ°Ðº Ð½Ð°Ð¹Ñ‚Ð¸ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ Ð¼ÐµÑ‡Ñ‚Ñ‹?' },
  { emoji: 'ðŸ“', text: 'ÐŸÐ¾Ð¼Ð¾Ð³Ð¸ Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ñ€ÐµÐ·ÑŽÐ¼Ðµ' },
  { emoji: 'ðŸ—£ï¸', text: 'ÐšÐ°Ðº ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð¿Ñ€Ð¾Ð¹Ñ‚Ð¸ ÑÐ¾Ð±ÐµÑÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ðµ?' },
  { emoji: 'ðŸ“ˆ', text: 'ÐšÐ°Ðº Ð¿Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð¿Ð¾Ð²Ñ‹ÑˆÐµÐ½Ð¸Ñ?' },
  { emoji: 'ðŸ‘¥', text: 'ÐšÐ°Ðº Ð½Ð°Ð»Ð°Ð´Ð¸Ñ‚ÑŒ Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸Ñ Ð² ÐºÐ¾Ð»Ð»ÐµÐºÑ‚Ð¸Ð²Ðµ?' },

  // Ð¢Ñ€Ð°Ð½ÑÐ¿Ð¾Ñ€Ñ‚ (Ð°Ð²Ñ‚Ð¾) (15, 13% Ð¾Ñ‚ÐºÐ°Ð·Ð¾Ð²)
  { emoji: 'ðŸš—', text: 'ÐŸÐ¾Ð¼Ð¾Ð³Ð¸ Ð²Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ð°Ð²Ñ‚Ð¾Ð¼Ð¾Ð±Ð¸Ð»ÑŒ' },
  { emoji: 'ðŸ”§', text: 'ÐšÐ°Ðº ÑÑÐºÐ¾Ð½Ð¾Ð¼Ð¸Ñ‚ÑŒ Ð½Ð° Ñ€ÐµÐ¼Ð¾Ð½Ñ‚Ðµ Ð°Ð²Ñ‚Ð¾?' },
  { emoji: 'â›½', text: 'ÐšÐ°Ðº ÑÐ½Ð¸Ð·Ð¸Ñ‚ÑŒ Ñ€Ð°ÑÑ…Ð¾Ð´ Ñ‚Ð¾Ð¿Ð»Ð¸Ð²Ð°?' },
  { emoji: 'ðŸ›£ï¸', text: 'Ð›ÑƒÑ‡ÑˆÐ¸Ðµ Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚Ñ‹ Ð´Ð»Ñ Ð¿Ð¾ÐµÐ·Ð´Ð¾Ðº' },
  { emoji: 'ðŸš˜', text: 'Ð¡Ð¾Ð²ÐµÑ‚Ñ‹ Ð¿Ð¾ ÑƒÑ…Ð¾Ð´Ñƒ Ð·Ð° Ð¼Ð°ÑˆÐ¸Ð½Ð¾Ð¹' },

  // Ð¡Ñ‚Ñ€Ð¾Ð¸Ñ‚ÐµÐ»ÑŒÑÑ‚Ð²Ð¾, Ñ€ÐµÐ¼Ð¾Ð½Ñ‚ (14, 20% Ð¾Ñ‚ÐºÐ°Ð·Ð¾Ð²)
  { emoji: 'ðŸ› ï¸', text: 'ÐšÐ°Ðº ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ Ñ€ÐµÐ¼Ð¾Ð½Ñ‚ ÑÐ°Ð¼Ð¾Ð¼Ñƒ?' },
  { emoji: 'ðŸª‘', text: 'Ð˜Ð´ÐµÐ¸ Ð´Ð»Ñ Ð²Ñ‹Ð±Ð¾Ñ€Ð° Ð¼ÐµÐ±ÐµÐ»Ð¸' },
  { emoji: 'ðŸŽ¨', text: 'ÐšÐ°Ðº Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¸Ð½Ñ‚ÐµÑ€ÑŒÐµÑ€?' },
  { emoji: 'ðŸ—ï¸', text: 'Ð¡Ð¾Ð²ÐµÑ‚Ñ‹ Ð¿Ð¾ ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÐµÐ»ÑŒÑÑ‚Ð²Ñƒ Ð´Ð¾Ð¼Ð°' },
  { emoji: 'ðŸŒ¿', text: 'Ð”Ð¾Ð±Ð°Ð²ÑŒ Ð·ÐµÐ»ÐµÐ½Ð¸ Ð² Ð´Ð¾Ð¼' },

  // ÐžÑ‚Ð´Ñ‹Ñ… Ð¸ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸Ñ (12, 0% Ð¾Ñ‚ÐºÐ°Ð·Ð¾Ð²)
  { emoji: 'âœˆï¸', text: 'Ð¡Ð¾ÑÑ‚Ð°Ð²ÑŒ Ð¿Ð»Ð°Ð½ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸Ñ' },
  { emoji: 'ðŸ–ï¸', text: 'Ð“Ð´Ðµ Ð¾Ñ‚Ð´Ð¾Ñ…Ð½ÑƒÑ‚ÑŒ Ð½Ð° Ð¼Ð¾Ñ€Ðµ?' },
  { emoji: 'ðŸ¨', text: 'ÐŸÐ¾Ð´Ð±ÐµÑ€Ð¸ Ð¾Ñ‚ÐµÐ»ÑŒ Ð¿Ð¾ Ð±ÑŽÐ´Ð¶ÐµÑ‚Ñƒ' },
  { emoji: 'ðŸ—ºï¸', text: 'ÐÐµÐ¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ðµ Ð¼ÐµÑÑ‚Ð° Ð´Ð»Ñ Ð¾Ñ‚Ð´Ñ‹Ñ…Ð°' },
  { emoji: 'ðŸš‚', text: 'ÐŸÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸Ñ Ð¿Ð¾ Ð Ð¾ÑÑÐ¸Ð¸' },
];

const newMessageText = ref('');
const targetText = ref(prompts[0].text);

function getRandomPrompts(count = 3) {
  const shuffled = prompts.sort(() => 0.5 - Math.random());
  return shuffled.slice(0, count);
}

onMounted(() => {
  let index = 0;
  let phase = 1;
  const caret = 'â¬¤';

  function typeText() {
    if (index >= targetText.value.length + 10) {
      phase = -1;
    }

    if (index <= 1) {
      targetText.value = getRandomPrompts(1)[0].text;
      phase = 1;
    }

    newMessageText.value = targetText.value.substring(0, index + phase) + caret;
    index += phase;
    setTimeout(typeText, 42);
  }
  typeText();
});
</script>
<style>
.msg-btn {
  transition: ease-in-out 0.2s;
}

.msg-btn:hover {
  transform: rotate(-90deg);
}
</style>
