<template>
  <q-input
    v-model="newMessageText"
    rounded
    outlined
    type="text"
    placeholder="Ð’Ð°ÑˆÐµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ..."
    input-style="padding-left: 12px; padding-bottom: 12px;"
  >
  </q-input>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue';

const prompts = [
  // Ð£Ñ‡Ñ‘Ð±Ð° Ð¸ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ðµ
  { emoji: 'ðŸ“', text: 'ÐŸÐ¾Ð¼Ð¾Ð³Ð¸ Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ñ€ÐµÑ„ÐµÑ€Ð°Ñ‚' },
  { emoji: 'ðŸ“š', text: 'ÐžÐ±ÑŠÑÑÐ½Ð¸ ÑÐ»Ð¾Ð¶Ð½ÑƒÑŽ Ñ‚ÐµÐ¼Ñƒ' },
  { emoji: 'ðŸŽ“', text: 'ÐšÐ°Ðº Ð¿Ð¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²Ð¸Ñ‚ÑŒÑÑ Ðº ÑÐºÐ·Ð°Ð¼ÐµÐ½Ñƒ?' },
  { emoji: 'ðŸ”¬', text: 'Ð ÐµÑˆÐ¸ Ð·Ð°Ð´Ð°Ñ‡Ñƒ Ð¿Ð¾ Ñ„Ð¸Ð·Ð¸ÐºÐµ' },
  { emoji: 'ðŸ“–', text: 'Ð¡Ð¾ÑÑ‚Ð°Ð²ÑŒ Ð¿Ð»Ð°Ð½ ÑƒÑ€Ð¾ÐºÐ°' },

  // ÐšÐ°Ñ€ÑŒÐµÑ€Ð° Ð¸ Ñ€Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ðµ
  { emoji: 'ðŸ’¼', text: 'ÐšÐ°Ðº ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ€ÐµÐ·ÑŽÐ¼Ðµ?' },
  { emoji: 'ðŸ—£ï¸', text: 'ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÑŒÑÑ Ðº ÑÐ¾Ð±ÐµÑÐµÐ´Ð¾Ð²Ð°Ð½Ð¸ÑŽ' },
  { emoji: 'ðŸ“ˆ', text: 'Ð Ð°Ð·Ð²Ð¸Ð²Ð°Ð¹ Ñ‚Ð°Ð¹Ð¼-Ð¼ÐµÐ½ÐµÐ´Ð¶Ð¼ÐµÐ½Ñ‚' },
  { emoji: 'ðŸ‘¥', text: 'ÐšÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð² ÐºÐ¾Ð¼Ð°Ð½Ð´Ðµ?' },
  { emoji: 'ðŸŒ', text: 'ÐÐ°Ð¹Ð´Ð¸ ÑÑ‚Ð°Ð¶Ð¸Ñ€Ð¾Ð²ÐºÑƒ Ð·Ð° Ñ€ÑƒÐ±ÐµÐ¶Ð¾Ð¼' },

  // Ð›Ð°Ð¹Ñ„ÑÑ‚Ð°Ð¹Ð» Ð¸ Ñ…Ð¾Ð±Ð±Ð¸
  { emoji: 'ðŸŽ¨', text: 'ÐŸÑ€ÐµÐ´Ð»Ð¾Ð¶Ð¸ Ð¸Ð´ÐµÐ¸ Ð´Ð»Ñ Ñ‚Ð²Ð¾Ñ€Ñ‡ÐµÑÑ‚Ð²Ð°' },
  { emoji: 'ðŸ‹ï¸', text: 'ÐšÐ°Ðº Ð²ÐµÑÑ‚Ð¸ Ð—ÐžÐ– ÑÑ‚ÑƒÐ´ÐµÐ½Ñ‚Ñƒ?' },
  { emoji: 'ðŸ³', text: 'ÐŸÐ¾Ð´ÑÐºÐ°Ð¶Ð¸ Ð±Ñ‹ÑÑ‚Ñ€Ñ‹Ðµ Ñ€ÐµÑ†ÐµÐ¿Ñ‚Ñ‹' },
  { emoji: 'ðŸŽµ', text: 'ÐŸÐ¾Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐ¹ Ð¼ÑƒÐ·Ñ‹ÐºÑƒ Ð´Ð»Ñ ÑƒÑ‡Ñ‘Ð±Ñ‹' },
  { emoji: 'ðŸŽ®', text: 'ÐšÐ°ÐºÐ¸Ðµ Ð¸Ð³Ñ€Ñ‹ Ð´Ð»Ñ Ð¾Ñ‚Ð´Ñ‹Ñ…Ð°?' },

  // Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸ Ð¸ Ð³Ð°Ð´Ð¶ÐµÑ‚Ñ‹
  { emoji: 'ðŸ’»', text: 'Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐ¹ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð´Ð»Ñ ÑƒÑ‡Ñ‘Ð±Ñ‹' },
  { emoji: 'ðŸ“±', text: 'ÐšÐ°Ðº Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ¼Ð°Ñ€Ñ‚Ñ„Ð¾Ð½?' },
  { emoji: 'ðŸ”§', text: 'ÐŸÐ¾Ð¼Ð¾Ð³Ð¸ Ð²Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ð½Ð¾ÑƒÑ‚Ð±ÑƒÐº' },
  { emoji: 'ðŸŒ', text: 'ÐÐ°Ð¹Ð´Ð¸ Ð¾Ð½Ð»Ð°Ð¹Ð½-ÐºÑƒÑ€ÑÑ‹ Ñ€Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ñ' },
  { emoji: 'ðŸ–¥ï¸', text: 'ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ Ñ€Ð°Ð±Ð¾Ñ‡ÐµÐµ Ð¼ÐµÑÑ‚Ð¾' },

  // Ð¤Ð¸Ð½Ð°Ð½ÑÑ‹ Ð´Ð»Ñ ÑÑ‚ÑƒÐ´ÐµÐ½Ñ‚Ð¾Ð²
  { emoji: 'ðŸ’°', text: 'ÐšÐ°Ðº ÑÐºÐ¾Ð½Ð¾Ð¼Ð¸Ñ‚ÑŒ ÑÑ‚ÑƒÐ´ÐµÐ½Ñ‚Ñƒ?' },
  { emoji: 'ðŸ’³', text: 'ÐšÐ°ÐºÐ¸Ðµ ÐµÑÑ‚ÑŒ ÑÑ‚ÑƒÐ´ÐµÐ½Ñ‡ÐµÑÐºÐ¸Ðµ ÐºÐ°Ñ€Ñ‚Ñ‹?' },
  { emoji: 'ðŸ“Š', text: 'Ð¡ Ñ‡ÐµÐ³Ð¾ Ð½Ð°Ñ‡Ð°Ñ‚ÑŒ Ð¸Ð½Ð²ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ?' },
  { emoji: 'ðŸ·ï¸', text: 'Ð“Ð´Ðµ Ð½Ð°Ð¹Ñ‚Ð¸ ÑÐºÐ¸Ð´ÐºÐ¸?' },
  { emoji: 'ðŸ›’', text: 'ÐšÐ°Ðº ÑÐºÐ¾Ð½Ð¾Ð¼Ð½Ð¾ Ð¿Ð¾ÐºÑƒÐ¿Ð°Ñ‚ÑŒ?' },

  // Ð—Ð´Ð¾Ñ€Ð¾Ð²ÑŒÐµ Ð¸ Ð±Ð»Ð°Ð³Ð¾Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ðµ
  { emoji: 'ðŸ§˜', text: 'ÐšÐ°Ðº ÑÐ¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒÑÑ ÑÐ¾ ÑÑ‚Ñ€ÐµÑÑÐ¾Ð¼?' },
  { emoji: 'ðŸ’¤', text: 'ÐšÐ°Ðº ÑƒÐ»ÑƒÑ‡ÑˆÐ¸Ñ‚ÑŒ ÑÐ¾Ð½?' },
  { emoji: 'ðŸ', text: 'Ð§Ñ‚Ð¾ ÐµÑÑ‚ÑŒ Ð´Ð»Ñ Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÑ?' },
  { emoji: 'ðŸƒ', text: 'ÐšÐ°Ðº Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ Ð´Ð¾Ð¼Ð°?' },
  { emoji: 'ðŸ§ ', text: 'ÐšÐ°Ðº Ñ€Ð°Ð·Ð²Ð¸Ñ‚ÑŒ Ð¿Ð°Ð¼ÑÑ‚ÑŒ?' },

  // Ð¡Ð¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð°Ñ Ð¶Ð¸Ð·Ð½ÑŒ
  { emoji: 'ðŸ‘«', text: 'ÐšÐ°Ðº Ð½Ð°Ð¹Ñ‚Ð¸ Ð´Ñ€ÑƒÐ·ÐµÐ¹?' },
  { emoji: 'ðŸŽ‰', text: 'ÐŸÑ€ÐµÐ´Ð»Ð¾Ð¶Ð¸ Ð¸Ð´ÐµÐ¸ Ð´Ð»Ñ Ð²ÐµÑ‡ÐµÑ€Ð¸Ð½Ð¾Ðº' },
  { emoji: 'ðŸ’¬', text: 'ÐšÐ°Ðº ÑƒÐ»ÑƒÑ‡ÑˆÐ¸Ñ‚ÑŒ Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ?' },
  { emoji: 'ðŸŒ', text: 'ÐšÐ°Ðº ÑÑ‚Ð°Ñ‚ÑŒ Ð²Ð¾Ð»Ð¾Ð½Ñ‚Ñ‘Ñ€Ð¾Ð¼?' },
  { emoji: 'ðŸŽ­', text: 'ÐšÐ°ÐºÐ¸Ðµ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ Ð² Ð³Ð¾Ñ€Ð¾Ð´Ðµ?' },

  // Ð£Ñ‡ÐµÐ±Ð½Ñ‹Ðµ Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ñ‹
  { emoji: 'ðŸ“–', text: 'Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐ¹ ÐºÐ½Ð¸Ð³Ð¸ Ð¿Ð¾ Ñ‚ÐµÐ¼Ðµ' },
  { emoji: 'ðŸ“', text: 'ÐšÐ°Ðº Ð²ÐµÑÑ‚Ð¸ ÐºÐ¾Ð½ÑÐ¿ÐµÐºÑ‚Ñ‹?' },
  { emoji: 'ðŸ”Ž', text: 'ÐÐ°Ð¹Ð´Ð¸ Ð¿Ð¾Ð»ÐµÐ·Ð½Ñ‹Ðµ ÑÑ‚Ð°Ñ‚ÑŒÐ¸' },
  { emoji: 'ðŸ–‡ï¸', text: 'ÐšÐ°Ðº Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ Ð·Ð°Ð¼ÐµÑ‚ÐºÐ¸?' },
  { emoji: 'ðŸ“…', text: 'ÐšÐ°Ðº Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑƒÑ‡Ñ‘Ð±Ñƒ?' },
];

const newMessageText = ref('');
const targetText = ref(prompts[0].text);

function getRandomPrompts(count = 3) {
  const shuffled = prompts.sort(() => 0.5 - Math.random());
  return shuffled.slice(0, count);
}

onMounted(() => {
  let index = 0;
  let phase = 1;
  const caret = 'â¬¤';

  function typeText() {
    if (index >= targetText.value.length + 10) {
      phase = -1;
    }

    if (index <= 1) {
      targetText.value = getRandomPrompts(1)[0].text;
      phase = 1;
    }

    newMessageText.value = targetText.value.substring(0, index + phase) + caret;
    index += phase;
    setTimeout(typeText, 42);
  }
  typeText();
});
</script>
<style>
.msg-btn {
  transition: ease-in-out 0.2s;
}

.msg-btn:hover {
  transform: rotate(-90deg);
}
</style>
