<template>
  <q-card
    class="q-pa-md"
    flat
    style="min-width: 400px; max-width: 100vw; border-radius: 30px"
  >
    <div class="text-h5 text-center q-my-sm" style="font-weight: bold">
      {{ props.title }}
    </div>
    <div class="row q-px-md q-mt-lg justify-center">
      <div
        class="column q-mx-sm q-py-md q-px-lg q-my-sm"
        v-for="(plan, i) in plans"
        :key="i"
        flat
        bordered
        style="border-radius: 34px; background: rgba(127, 127, 127, 0.1)"
      >
        <div class="text-h5 q-px-sm q-mb-lg" style="font-weight: 500">
          {{ plan.display_name }}
        </div>
        <div
          v-for="feature in plan.features"
          class="q-px-sm q-pb-sm q-pt-xs"
          v-html="feature"
          :key="feature"
        ></div>
        <q-space></q-space>
        <q-btn
          class="q-mt-lg text-h6"
          unelevated
          outline
          rounded
          @click="c.purchase(plan._id)"
        >
          <span
            v-if="plan.old_price"
            class="text-negative q-mr-sm"
            style="text-decoration: line-through"
          >
            {{ plan.old_price }} ‚ÇΩ
          </span>
          <span> {{ plan.price }} ‚ÇΩ </span>
        </q-btn>
      </div>
    </div>
    <div
      class="q-mt-md text-center text-body2"
      style="cursor: pointer"
      @click="
        c.isShowMiniPlans = false;
        c.isShowPlans = true;
      "
    >
      <q-icon name="eva-info-outline"></q-icon>
      –ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ —Ç–∞—Ä–∏—Ñ—ã
    </div>
  </q-card>
</template>
<script setup lang="ts">
import { useChatStore } from 'src/stores/chatStore';

const c = useChatStore();

const props = defineProps({
  title: {
    type: String,
    default: '–ü—Ä–∏–∫—Ä–µ–ø–ª—è—Ç—å —Ñ–∞–π–ª—ã –º–æ–∂–Ω–æ –≤ –ø–æ–¥–ø–∏—Å–∫–µ!',
  },
});

const plans = [
  {
    _id: 'base',
    old_price: '149',
    price: '99',
    display_name: 'üíé –ë–ê–ó–û–í–´–ô',
    features: [
      'üí¨ <b>42</b> –∑–∞–ø—Ä–æ—Å–∞ –≤ –¥–µ–Ω—å',
      'üñºÔ∏è –†–∞–±–æ—Ç–∞ —Å —Ñ–æ—Ç–æ',
      'üìÇ –ê–Ω–∞–ª–∏–∑ —Ñ–∞–π–ª–æ–≤',
      'üîç –ü–æ–∏—Å–∫ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ',
    ],
  },
  {
    _id: 'daily_boost',
    old_price: null,
    price: '59',
    display_name: 'üöÄ DAILY BOOST',
    features: [
      'üí¨ <b>151</b> –∑–∞–ø—Ä–æ—Å –Ω–∞ –¥–µ–Ω—å',
      '‚ö° <b>–í–°–Å</b> –∏–∑ –ë–∞–∑–æ–≤–æ–≥–æ',
      'üìÖ <b>1</b> –¥–µ–Ω—å',
    ],
  },
];
</script>
<style lang="scss" scoped></style>
